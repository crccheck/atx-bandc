{% extends "base.html" %}

{% block page_head %}{{ title }}{% endblock %}

{% block extra_style %}
  <style>
    h1 {
      margin: 0 0 0.25em;
    }

    .entry {
      border: 1px solid black;
      margin-bottom: 1em;
      overflow: hidden;
    }

    h2 {
      font-size: 1em;
      margin: 0;
    }

    .thumbnail-container {
      float: left;
      margin-right: 5px;
    }

    p {
      margin: 0;
    }

    footer {
      font-size: 0.7em;
    }
  </style>
{% endblock %}

{% block content %}
  {% if bandc %}
    <h1>{{ bandc }}</h1>
    <a href="{{ bandc.homepage }}">Homepage</a>
    <!-- {{ bandc.description }} -->
    <p>
      <a href="{% url 'bandc:feed' slug=bandc.slug %}">RSS Feed</a>
    </p>
  {% else %}
    <h1>All documents</h1>
  {% endif %}

  {% for doc in object_list %}
    <article class="entry">
      <h2>
        {{ doc }}
        <small>
          <a href="{{ doc.url }}">(link)</a>
        </small>
      </h2>
      <time>{{ meeting.date }}</time>
      {% if doc.thumbnail %}
        <div class="thumbnail-container">
          <a href="{{ doc.url }}">
            <img src="{{ doc.thumbnail }}" alt="">
          </a>
        </div>
      {% endif %}
      {% if doc.text %}
        <p>
          {{ doc.text|truncatewords:"1000" }}
        </p>
      {% endif %}
      <footer>
        Scraped at: {{ doc.scraped_at }}
      </footer>
    </article>
  {% endfor %}
{% endblock %}
